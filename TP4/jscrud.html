<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <script
      src="https://code.jquery.com/jquery-3.4.1.min.js"
      crossorigin="anonymous"
    ></script>
    <title>tabletest</title>
    <style>
      body {
        margin: 0;
      }
      .table {
        margin: 100px;
        margin-top: 0;
      }
    </style>
  </head>
  <body>
    <table class="table">
      <thead>
        <tr>
          <th scope="col">Nom</th>
          <th scope="col">Prenom</th>
          <th scope="col">Date de naissance</th>
          <th scope="col">Aime le cours Web</th>
          <th scope="col">Remarques</th>
          <th scope="col">CRUD</th>
        </tr>
      </thead>
      <tbody id="studentsTableBody"></tbody>
    </table>
    <div class="error"></div>
    <form id="addStudentForm" action="" onsubmit="onFormSubmit();">
      <div class="form-group row">
        <label for="inputNom" class="col-sm-2 col-form-label">Nom*</label>
        <div class="col-sm-3">
          <input type="text" class="form-control" id="inputNom" />
        </div>
      </div>
      <div class="form-group row">
        <label for="inputPrenom" class="col-sm-2 col-form-label">Prenom*</label>
        <div class="col-sm-3">
          <input type="text" class="form-control" id="inputPrenom" />
        </div>
      </div>
      <div class="form-group row">
        <label for="inputDate" class="col-sm-2 col-form-label"
          >Date de naissance*</label
        >
        <div class="col-sm-3">
          <input type="date" class="form-control" id="inputDate" />
        </div>
      </div>
      <div class="form-group row">
        <label for="inputLike" class="col-sm-2 col-form-label"
          >Aime le cours Web*</label
        >
        <div class="col-sm-3">
          <input type="checkbox" class="form-control" id="inputLike" />
        </div>
      </div>
      <div class="form-group row">
        <label for="inputRem" class="col-sm-2 col-form-label">Remarques*</label>
        <div class="col-sm-3">
          <input type="text" class="form-control" id="inputRem" />
        </div>
      </div>
      <div class="form-group row">
        <label for="inputCRUD" class="col-sm-2 col-form-label">CRUD*</label>
        <div class="col-sm-3"></div>
      </div>
      <div class="form-group row">
        <span class="col-sm-2"></span>
        <div class="col-sm-2">
          <button type="submit" class="btn btn-primary form-control">
            Submit
          </button>
        </div>
      </div>
    </form>
    <script>
      function onFormSubmit() {
        // prevent the form to be sent to the server
        event.preventDefault();
        let nom = $("#inputNom").val();
        let prenom = $("#inputPrenom").val();
        let date = $("#inputDate").val();
        let like = document.getElementById("inputLike").checked;
        let rem = $("#inputRem").val();
        const element = document.getElementsByClassName("error")[0];
        // update.addEventListener("click", () => {});
        function deleteRow(btn) {
          console.log("test");
          var row = btn.parentNode.parentNode;
          row.parentNode.removeChild(row);
        }

        if (nom === "") {
          element.innerHTML = "Y'a pas de nom";
        } else {
          $("#studentsTableBody").append(
            `<tr id='${nom}${prenom}'>
                <td>${nom}</td>
                <td>${prenom}</td>
                <td>${date} </td>
                <td>${like} </td>
                <td>${rem} </td>
                <td>
                    <button class="updBtn">Update</button>
                    <button class="delBtn" onclick="deleteRow(this)">Delete</button>
                </td>
            </tr>`
          );
          element.innerHTML = "";
        }
      }
      function deleteRow(btn) {
        var row = btn.parentNode.parentNode;
        row.parentNode.removeChild(row);
      }
    </script>
    <style>
      table,
      td {
        border: 1px solid #333;
      }

      thead,
      tfoot {
        background-color: #333;
        color: #fff;
      }
    </style>
  </body>
</html>
